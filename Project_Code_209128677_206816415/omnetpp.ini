[General]
network = LeafSpineNetwork
sim-time-limit = 60s

# Topology parameters
*.numHosts = 16
*.numLeaves = 4
*.numSpines = 2
*.hostsPerLeaf = 4

# Message generation parameters
*.host[*].msgGenerationRate = 1.0  # Default rate (messages per second)

# Switch processing parameters (NEW)
*.leaf[*].processingDelay = 0.002  
*.leaf[*].queueSize = 10           
*.spine[*].processingDelay = 0.002 
*.spine[*].queueSize = 10           

# Statistics collection
output-vector-file = ${resultdir}/${configname}-${runnumber}.vec
output-scalar-file = ${resultdir}/${configname}-${runnumber}.sca
result-dir = results

# Enable detailed logging for debugging
*.host[*].typename = "CustomHost"
*.leaf[*].typename = "LeafSwitch" 
*.spine[*].typename = "SpineSwitch"

# Configuration for different load scenarios
[Config LowLoad]
*.host[*].msgGenerationRate = 5.0
*.leaf[*].processingDelay = 0.002
*.spine[*].processingDelay = 0.002
*.numHosts = 32
*.numLeaves = 8
*.numSpines = 4
*.hostsPerLeaf = 4

[Config MediumLoad]
*.host[*].msgGenerationRate = 25.0
*.leaf[*].processingDelay = 0.002 
*.spine[*].processingDelay = 0.002
*.numHosts = 32
*.numLeaves = 8
*.numSpines = 4
*.hostsPerLeaf = 4

[Config HighLoad]
*.host[*].msgGenerationRate = 50.0
*.leaf[*].processingDelay = 0.002   
*.spine[*].processingDelay = 0.002
*.leaf[*].queueSize = 10       
*.spine[*].queueSize = 10
*.numHosts = 8
*.numLeaves = 2
*.numSpines = 2
*.hostsPerLeaf = 4

[Config VeryHighLoad]
*.host[*].msgGenerationRate = 100.0
*.leaf[*].processingDelay = 0.002   
*.spine[*].processingDelay = 0.002
*.leaf[*].queueSize = 1000          
*.spine[*].queueSize = 10
*.numHosts = 21
*.numLeaves = 7
*.numSpines = 1
*.hostsPerLeaf = 3

# Configuration for scalability testing
[Config SmallNetwork]
*.numHosts = 8
*.numLeaves = 2
*.numSpines = 2
*.hostsPerLeaf = 4
*.leaf[*].processingDelay = 0.002
*.spine[*].processingDelay = 0.002

[Config LargeNetwork]
*.numHosts = 32
*.numLeaves = 8
*.numSpines = 4
*.hostsPerLeaf = 4
*.leaf[*].processingDelay = 0.002 
*.spine[*].processingDelay = 0.002

[Config MegaNetwork]
*.numHosts = 64
*.numLeaves = 16
*.numSpines = 8
*.hostsPerLeaf = 4
*.leaf[*].processingDelay = 0.002
*.spine[*].processingDelay = 0.002
*.leaf[*].queueSize = 10
*.spine[*].queueSize = 10


# Statistics configuration
**.scalar-recording = true
**.vector-recording = true

# Signal statistics
*.host[*].msgSentSignal.statistic-recording = true
*.host[*].msgReceivedSignal.statistic-recording = true
*.host[*].msgDroppedSignal.statistic-recording = true
*.host[*].endToEndDelaySignal.statistic-recording = true

*.leaf[*].msgForwardedToHostSignal.statistic-recording = true
*.leaf[*].msgForwardedToSpineSignal.statistic-recording = true
*.leaf[*].throughputSignal.statistic-recording = true

*.spine[*].msgForwardedSignal.statistic-recording = true
*.spine[*].msgFloodedSignal.statistic-recording = true
*.spine[*].macLearnedSignal.statistic-recording = true
*.spine[*].learningTableSizeSignal.statistic-recording = true

# NEW: Signal statistics for queues and drops
*.leaf[*].queueLengthSignal.statistic-recording = true
*.leaf[*].msgsDroppedQueueFullSignal.statistic-recording = true
*.spine[*].queueLengthSignal.statistic-recording = true
*.spine[*].msgsDroppedQueueFullSignal.statistic-recording = true